- name: Server Setup Playbook
  hosts: iotapp1.houghton.network
  become: true

  vars:
    software_upgrade: true
    create_user: true
    make_sudoer: true
    add_keys: true

    users:
      - name: paul
        home: /home/paul
        groups: sudo
        sudoer: true

    ssh_key: "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIJS321RVYEcDx3OdOiSe+YZSE3h0/RNemdRXUeGSWc99 ansible"

  tasks:
    - import_tasks: roles/software_management/tasks/software_upgrade.yml
    - import_tasks: roles/user_management/tasks/create_user.yml
    - import_tasks: roles/user_management/tasks/make_sudoer.yml
    - import_tasks: roles/key_management/tasks/add_keys.yml




